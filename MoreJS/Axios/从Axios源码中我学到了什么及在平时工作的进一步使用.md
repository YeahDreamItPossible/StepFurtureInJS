# 从Axios源码中我学到了什么及在平时工作的进一步使用

## 初衷

- 为什么我要深入研究下Axios的源码

- 


## 总结

- axios的拦截器分为异步调用 和 同步调用

  * 异步调用时 请求拦截器的任务为栈 遵循先注册后调用 而响应拦截的任务为队列 遵循先注册先调用

  * 异步调用时 请求拦截 和 响应拦截 都通过promise.then()放到微任务中并行 但是仍然保证 请求拦截 => 请求 => 响应拦截 的顺序(非常值得研究)

  * 同步调用时 请求拦截和响应拦截都是任务队列 遵循先注册先调用

  * 同步调用时 响应拦截 都通过promise.then()放到微任务中并行 但是仍然保证 请求拦截 => 请求 => 响应拦截 的顺序

- 可以通过设置axios 的request拦截器中 runWhen 属性来处理 防重复

- 可以通过设置axios 选项中的transformRequest方法 来处理 请求参数data

- 可以通过设置axios 选项中的transformResponse方法 来处理 响应

- axios 用到 FormData 和 URLSearchParams 两个类 分别在不同的环境中重写某个类 兼容

- axios 是如何做到不同平台时 调用方式一致(adapter)

- axios 是如何做到能够取消请求的(主要是把这个流程单独分离出来)